<div>
    <nb-card>
        <nb-card-header>Stock Difference Calculation</nb-card-header>
        <nb-card-body>
            <form [formGroup]="stockIntervalDiffForm" (ngSubmit)="onFormSubmission()" novalidate>
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label for="inputfromdate" class="label">Select Date</label>
                            <input type="date" nbInput fullWidth id="inputfromdate" class="form-control"
                                   [status]="this.stockIntervalDiffForm.controls['fromDate'].valid ? '' : 'danger'"
                                   formControlName="fromDate"/>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label for="inputtodate" class="label">Select Date</label>
                            <input type="date" nbInput fullWidth id="inputtodate" class="form-control"
                                   [status]="this.stockIntervalDiffForm.controls['toDate'].valid ? '' : 'danger'"
                                   formControlName="toDate"/>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label for="inputinvestmentAmount" class="label">Investment Amount</label>
                            <input type="number" nbInput fullWidth id="inputinvestmentAmount" class="form-control"
                                   [status]="this.stockIntervalDiffForm.controls['investmentAmount'].valid ? '' : 'danger'"
                                   formControlName="investmentAmount"/>
                        </div>
                    </div>
                </div>
                <div class="d-flex w-100">
                    <span class="flex-grow-1"></span>
                    <button type="submit" nbButton status="info">Show Data</button>
                </div>
            </form>

            <div *ngIf="stockIntervalDisplayData && stockIntervalDisplayData.length > 0" class="table-responsive">
                <table class="table table-hover table-striped table-bordered">
                    <thead class="table-primary">
                    <td>S.N</td>
                    <td>Symbol</td>
                    <td>StockCount</td>
                    <td>{{calculationData.fromDate}}</td>
                    <td>{{calculationData.toDate}}</td>
                    <td>Profit/Loss (Rs)</td>
                    </thead>
                    <tbody>
                    <tr *ngFor="let spIntervalData of stockIntervalDisplayData; let i = index"
                        [ngClass]="spIntervalData.profitLoss > 0 ? 'table-success' : 'table-danger'">
                        <td>{{i + 1}}</td>
                        <td [nbTooltip]=spIntervalData.companyName>{{spIntervalData.companySymbol}}</td>
                        <td>{{spIntervalData.boughtStockCount}}</td>
                        <td>{{spIntervalData.pastClosePrice}}</td>
                        <td>{{spIntervalData.selClosePrice}}</td>
                        <td>{{spIntervalData.profitLoss | number}}</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </nb-card-body>
    </nb-card>
</div>
